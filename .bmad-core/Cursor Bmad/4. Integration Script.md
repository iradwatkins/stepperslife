### **4\. Integration Script (`.bmad-core/scripts/init-personality.js`)**

javascript  
*\#\!/usr/bin/env node*  
*// .bmad-core/scripts/init-personality.js*  
*// Initialize BMAD Personality Engine for Claude Code*

const fs \= require('fs');  
const path \= require('path');

console.log('ğŸš€ Initializing BMAD Personality Engine...');

*// Check if running in Claude Code environment*  
const isClaudeCode \= process.env.CLAUDE\_CODE || process.argv.includes('--claude');

if (isClaudeCode) {  
  console.log('âœ… Claude Code environment detected');  
    
  *// Load personality engine*  
  const PersonalityEngine \= require('../lib/personality-engine');  
    
  *// Initialize global instance*  
  global.bmadPersonality \= new PersonalityEngine();  
    
  *// Load agent configurations*  
  const agentsConfig \= require('../config/agents.config');  
    
  console.log('ğŸ“‹ Available agents:');  
  Object.keys(agentsConfig.agents).forEach(agent \=\> {  
    console.log(\`  â€¢ ${agent}: ${agentsConfig.agents\[agent\].personality.identity}\`);  
  });  
    
  console.log('\\nğŸ§  Personality Engine ready for autonomous operation');  
  console.log('ğŸ’¡ Claude Code can now transform into any BMAD agent automatically\\n');  
} else {  
  console.log('ğŸ“ Generating personality configuration...');  
    
  *// Create configuration files if they don't exist*  
  const configPath \= path.join(process.cwd(), '.bmad-core', 'config', 'agents.config.js');  
  const enginePath \= path.join(process.cwd(), '.bmad-core', 'lib', 'personality-engine.js');  
    
  if (\!fs.existsSync(configPath)) {  
    console.log('Creating agents.config.js...');  
    *// Copy template config*  
  }  
    
  if (\!fs.existsSync(enginePath)) {  
    console.log('Creating personality-engine.js...');  
    *// Copy template engine*  
  }  
    
  console.log('âœ… Personality system configured');  
  console.log('ğŸ“‹ Run with \--claude flag when in Claude Code');

}

